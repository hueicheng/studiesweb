<html>
<head>
<title>線上繪圖版0.0.8.1</title>

<meta charset="utf-8" />

<link type="text/css" rel="stylesheet" href="css/main.css" />
<script src="http://www.google.com/jsapi"></script>
<script src="source/drawing.js"></script>
<script src="jquery.js"></script>
<script>
google.load("jqueryui", "1.8");

/*拖曳*/
var sortableChange = function(e, ui){
	//拖曳子項目
	if(ui.sender){
		var w = ui.element.width();
		ui.placeholder.width(w);
		ui.helper.css("width", ui.element.children().width());
	}
};

$(function(){
	//引用主頁面中的所有塊
	var els = ['#history', '#layer', '#palette', '#canvasPaper', '#toolbar'];
	var $els = $(els.toString());
	
	//使用外掛
	$els.sortable({
		item: '> dl',	//對象
		handle: 'dt',	//觸發事件的傢伙
		cursor: 'move',	//滑鼠樣式
		opacity: 0.8,	//拖曳時的透明度
		appendTo: 'body',
		connectWith: els,
		start: function(e, ui){
			ui.helper.css("width", ui.item.width());
		},
		change: sortableChange
	});
	
});
</script>
</head>
<body>
<div id="canvasPaper">
  <dl class="sort">
	<dt><span>X</span></dt>
	<dd><canvas id="workarea"></canvas></dd>
  </dl>
</div>
<div id="toolbar">
  <dl class="sort">
    <dt><span>X</span></dt>
	<dd><a href="#" title="select" class="btn b1"></a></dd>
	<dd><a href="#" title="pen" class="btn b2"></a></dd>
	<dd><a href="#" title="line" class="btn b3"></a></dd>
	<dd><a href="#" title="rect" class="btn b4"></a></dd>
	<dd><a href="#" title="round" class="btn b5"></a></dd>
	<dd><a href="#" title="fill" class="btn b6"></a></dd>
	<dd><a href="#" title="text" class="btn b7"></a></dd>
  </dl>
</div>
<div id ="palette">
<dl class="sort">
    <dt><span>X</span></dt>
	<dd title="palette">palette</dd>
</dl>
</div>
<div id="layer">
<dl class="sort">
    <dt><span>X</span></dt>
	<dd title="layer">layer</dd>
</dl>
</div>
<div id="history">
<dl class="sort">
    <dt><span>X</span></dt>
	<dd title="history">history</dd>
</dl>
</div>
</body>
</html>

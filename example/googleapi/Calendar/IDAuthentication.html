<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
google.load("gdata","1");

var url = "http://www.google.com/calendar/feeds/";

function login(){
    var token = google.accounts.user.login(url);
}

function logout(){
     google.accounts.user.logout();
}

function checkLogin(){
     window.alert(google.accounts.user.checkLogin(url));
}

function handleInfo(data){
     var response = eval(data.currentTarget.responseText);
     window.alert('Target: ' + response.Target + "\n" +
             'Scope: ' + response.Scope + "\n" +
             'Secure: ' + response.Secure);
}

function getInfo(){
     if(google.accounts.user.checkLogin(url)){
             google.accounts.user.getInfo(handleInfo);
     }
}
</script>
</head>
<body>
<input type="button" value="login" onclick="login()" />
<input type="button" value="logout" onclick="logout()" />
<input type="button" value="checkLogin" onclick="checkLogin()" />
<input type="button" value="getInfo" onclick="getInfo()" />
</body>
</html>